(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{198:function(s,a,n){"use strict";n.r(a);var t=function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("layout-manager",{attrs:{page:s.$page}},[n("div",{staticClass:"markdown-body is-component"},[n("p",[s._v("åˆ†é¡µæ•ˆæœé¢„è§ˆï¼š")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://luyilin.github.io/Minemine-pagination/dist/index.html"}},[s._v("åœ¨çº¿ demo")])]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/luyilin/Minemine-pagination"}},[s._v("github åœ°å€")])]),s._v(" "),n("li",[s._v("åˆ†é¡µæ•ˆæœæˆªå›¾")])]),s._v(" "),n("p",[n("img",{attrs:{src:"https://i.loli.net/2018/12/05/5c079d83943bc.png",alt:"messagedboard"}})]),s._v(" "),n("h3",{attrs:{id:""}},[s._v("å‰è¨€")]),s._v(" "),n("blockquote",[n("ol",[n("li",[s._v("ä½¿ç”¨ vue-cli åˆå§‹åŒ–é¡¹ç›® ")]),s._v(" "),n("li",[s._v("ä½¿ç”¨ vuex ç®¡ç†æ•°æ®")]),s._v(" "),n("li",[s._v("node v6.9.2ï¼Œnpm v3.10.9")])])]),s._v(" "),n("h3",{attrs:{id:"-2"}},[s._v("åˆ†é¡µåŸç†")]),s._v(" "),n("p",[s._v("å®ç°åˆ†é¡µä¸»è¦ä¾é ä¸¤ä¸ªå‚æ•°ï¼Œåç§»é‡ï¼ˆoffsetï¼‰ã€é™åˆ¶æ•°ï¼ˆlimitï¼‰ã€‚ç‚¹å‡»åˆ†é¡µå‘é€ Ajax è¯·æ±‚ï¼Œå°†è¿™ä¸¤ä¸ªå‚æ•°ä¼ ç»™åç«¯ï¼Œåç«¯ä»æ•°æ®åº“ç­›é€‰å‡ºå¯¹åº”çš„æ•°æ®è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å°†è·å–åˆ°çš„æ•°æ®æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåˆ†é¡µç»„ä»¶æ ¹æ®åç§»é‡å’Œé™åˆ¶æ•°æ˜¾ç¤ºå¯¹åº”çš„é¡µç ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•åœ°å®ç°åˆ†é¡µçš„æ€è·¯ã€‚")]),s._v(" "),n("h3",{attrs:{id:"-3"}},[s._v("åˆ†é¡µç±»å‹")]),s._v(" "),n("p",[s._v("åˆ†é¡µä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œä¸€ç§ç»å¸¸ç”¨äºç§»åŠ¨ç«¯çš„æ»šåŠ¨åŠ è½½ï¼Œæˆ–æ˜¯ä¸€ä¸ªæŒ‰é’®ç‚¹å‡»å³å¯åŠ è½½æ›´å¤šã€‚è¿™ç§åˆ†é¡µå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œå‰ç«¯ä»…éœ€å®šä¹‰ä¸€ä¸ª offset å˜é‡ï¼Œæ¯æ¬¡ ajax è¯·æ±‚æ—¶ offset += limitï¼Œç„¶åå°†è·å–åˆ°çš„å†…å®¹ append ä¸Šå»å³å¯ã€‚\nå¦ä¸€ç§æ˜¯æ˜¾ç¤ºæ€»é¡µæ•°ã€å½“å‰é¡µæ•°ã€ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µæŒ‰é’®ï¼Œä¸”é¡µæ•°è¾ƒå¤šæ—¶å°†ä¸­é—´é¡µæ•°ç”¨çœç•¥å·è¡¨ç¤ºã€‚è¿™ç§åˆ†é¡µå®ç°èµ·æ¥ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæœ¬æ–‡è®¨è®ºçš„å°±æ˜¯å¦‚ä½•ä½¿ç”¨ vue å®ç°è¿™æ ·çš„åˆ†é¡µç»„ä»¶ã€‚")]),s._v(" "),n("h3",{attrs:{id:"-4"}},[s._v("åˆ†é¡µç»„ä»¶")]),s._v(" "),n("p",[s._v("åˆ›å»º pagination.vue æ–‡ä»¶ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"vue"}},[n("pre",{attrs:{class:"language-vue"}},[n("code",{attrs:{class:"language-vue"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("page-wrap"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("ul")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-show")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("prePage"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("li-page"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-tap")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("{methods: goPrePage}"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ä¸Šä¸€é¡µ"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("ul")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("ul")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("li")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-for")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("i in showPageBtn"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v(":class")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("{active: i === currentPage, pointer: i, hover: i && i !== currentPage}"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("\n            "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-tap")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("{methods: goPage, i: i}"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n          "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-if")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("i"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("notPointer"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("{{i}}"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n          "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-else")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("Â·Â·Â·"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("li")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("ul")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("<")]),s._v("ul")]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-show")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("nextPage"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("class")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("li-page"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{attrs:{class:"token attr-name"}},[s._v("v-tap")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v('"')]),s._v("{methods: goNextPage}"),n("span",{attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("ä¸‹ä¸€é¡µ"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("ul")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[s._v("</")]),s._v("template")]),n("span",{attrs:{class:"token punctuation"}},[s._v(">")])])])])]),n("p",[s._v("ç»„ä»¶çš„ä½œç”¨åŸŸæ˜¯ç‹¬ç«‹çš„ï¼Œçˆ¶ç»„ä»¶é€šä¿¡é€šè¿‡ props å‘å…¶ä¼ é€’æ•°æ®ï¼Œåˆ†é¡µç»„ä»¶é€šè¿‡ $emit è§¦å‘åœ¨çˆ¶ç»„ä»¶å®šä¹‰çš„äº‹ä»¶å®ç°å’Œçˆ¶ç»„ä»¶çš„é€šä¿¡ï¼Œå› æ­¤é¢„è®¾ä»çˆ¶ç»„ä»¶è·å–åˆ°éœ€æ˜¾ç¤ºçš„æ€»æ•° num ä¸º 30 , limit ä¸º 5ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥éšæ„è®¾ç½®è¿™ä¸¤ä¸ªå€¼ï½")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" that\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("default")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("data")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        that "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          num"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("30")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("5")]),s._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("è®¡ç®—å‡ ä¸ªå˜é‡ï¼Œåœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨ vue çš„è®¡ç®—å±æ€§ computed\næ€»é¡µæ•° totalPage åº”è¯¥ç­‰äºéœ€æ˜¾ç¤ºçš„æ€»æ•°é™¤ä»¥æ¯é¡µæ˜¾ç¤ºçš„ä¸ªæ•°ï¼Œå¹¶å‘ä¸Šå–æ•´ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("computed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("totalPage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Math"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("ceil")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("num "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("åç§»é‡ offsetï¼Œå› ä¸ºç‚¹å‡»ä¸Šä¸‹é¡µã€åˆ¶å®šé¡µç å‡ä¼šæ”¹å˜ offset å˜é‡ï¼Œçˆ¶ç»„ä»¶ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªå˜é‡å‘é€ ajax è¯·æ±‚ï¼Œå› æ­¤ä½¿ç”¨ vuex å­˜å‚¨ offsetã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[n("span",{attrs:{class:"token comment"}},[s._v("// pagination.vue")]),s._v("\n    computed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("offset")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$store"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("state"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("å½“å‰é¡µé¢ currentPageï¼Œå½“å‰é¡µé¢æ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå˜é‡ï¼Œæ˜¾ç¤ºç”¨æˆ·å½“å‰æ‰€å¤„é¡µæ•°ï¼Œå·²çŸ¥åç§»é‡å’Œæ¯é¡µæ˜¾ç¤ºæ•°é‡å¯ä»¥å¾—å‡ºå½“å‰é¡µé¢æ˜¯äºŒè€…çš„ä½™æ•°å‘ä¸Šå–æ•´ï¼Œå› ä¸ºé¡µæ•°ä¸ä»0å¼€å§‹ï¼Œå› æ­¤")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("computed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("currentPage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Math"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("ceil")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("æ˜¯å¦æ˜¾ç¤ºä¸Šä¸€é¡µæŒ‰é’® prePageï¼Œå› ä¸ºåœ¨é¦–é¡µçš„æ—¶å€™åç§»é‡ä¸º0ï¼Œå› æ­¤åªè¦åç§»é‡ä¸ç­‰äº0åˆ™å½“å‰é¡µé¢è‚¯å®šä¸åœ¨ç¬¬ä¸€é¡µï¼Œåˆ™æ˜¾ç¤ºä¸Šä¸€é¡µæŒ‰é’®ï¼Œå¹¶ä¸” num ä¸ç­‰äº 0ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("coumputed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("prePage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("num\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("æ˜¯å¦æ˜¾ç¤ºä¸‹ä¸€é¡µæŒ‰é’® nextPageï¼Œè¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œåªè¦åç§»é‡å’Œæ¯é¡µæ˜¾ç¤ºçš„ä¸ªæ•°ç›¸åŠ å°äºéœ€æ˜¾ç¤ºçš„æ€»æ•°ï¼Œåˆ™æ˜¾ç¤ºä¸‹ä¸€é¡µæŒ‰é’®ï¼Œå¹¶ä¸” num ä¸ç­‰äº 0ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("computed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("nextPage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit "),n("span",{attrs:{class:"token operator"}},[s._v("<")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("num"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("&&")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("num\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("é¡µç è®¡ç®— showPageBtnï¼Œé¡µç è®¡ç®—æ˜¯è¿™ä¸ªåˆ†é¡µç»„ä»¶çš„æ ¸å¿ƒå†…å®¹ï¼ŒåŸºæœ¬æ€è·¯æ˜¯å½“æ€»é¡µæ•°ä¸å¤§äº5æ—¶ï¼Œæ˜¾ç¤ºå…¨éƒ¨é¡µç ï¼›å½“æ€»é¡µæ•°å¤§äº5æ—¶ï¼Œå§‹ç»ˆæ˜¾ç¤ºé¦–å°¾é¡µç ï¼Œå½“å½“å‰é¡µç è·é¦–é¡µå°äº2æ—¶ï¼Œæ˜¾ç¤ºå‰ä¸‰é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·å°¾é¡µå°äº2æ—¶ï¼Œæ˜¾ç¤ºåä¸‰é¡µé¡µç ï¼Œå½“å½“å‰é¡µç è·é¦–é¡µç­‰äº2æ—¶ï¼Œæ˜¾ç¤ºå‰å››é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·å°¾é¡µç­‰äº2æ—¶ï¼Œæ˜¾ç¤ºåå››é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·é¦–é¡µå¤§äº3ä¸”è·å°¾é¡µå¤§äº3æ—¶ï¼Œæ˜¾ç¤ºå½“å‰é¡µç å’Œå½“å‰é¡µç çš„å‰ä¸€é¡µå’Œåä¸€é¡µï¼Œä¸¤è¾¹å„æœ‰ä¸€ä¸ªçœç•¥å·ï¼›åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨0ä»£è¡¨çœç•¥å·")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("computed"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("showPageBtn")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("totalPage"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              index "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("currentPage"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n              arr "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{attrs:{class:"token operator"}},[s._v("++")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              arr"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("push")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" arr\n          "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index "),n("span",{attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index "),n("span",{attrs:{class:"token operator"}},[s._v(">=")]),s._v(" pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index "),n("span",{attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("4")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index "),n("span",{attrs:{class:"token operator"}},[s._v("===")]),s._v(" pageNum "),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n          "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" index"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" index"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" index "),n("span",{attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pageNum"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("p",[s._v("è·³è½¬äº‹ä»¶ï¼Œåˆ†åˆ«ç‚¹å‡»ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µå’ŒæŒ‡å®šé¡µç ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[s._v("methods"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("goPage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i "),n("span",{attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("||")]),s._v(" params"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i "),n("span",{attrs:{class:"token operator"}},[s._v("===")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("currentPage"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$store"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("commit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'GO_PAGE'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("params"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("i"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("$emit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'getNew'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("goPrePage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$store"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("commit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'PRE_PAGE'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("$emit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'getNew'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),n("span",{attrs:{class:"token function"}},[s._v("goNextPage")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$store"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("commit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'NEXT_PAGE'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        that"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("$emit")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'getNew'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")])])])]),n("h3",{attrs:{id:"vuex"}},[s._v("vuex éƒ¨åˆ†")]),s._v(" "),n("p",[s._v("åœ¨æ­¤ä»‹ç»ä¸€ä¸‹ vuex éƒ¨åˆ†çš„å®ç°ï¼Œå­¦ä¹ äº†äºŒå“²å¤§å¤§çš„ vuex éƒ¨åˆ†çš„ç»“æ„ã€‚åœ¨ src ç›®å½•ä¸‹ï¼ˆå’Œ components ç›®å½•å¹³çº§ï¼‰ï¼Œæ–°å»º store ç›®å½•ï¼Œå…¶ä¸­ index.js æ–‡ä»¶ä¼ å…¥ mutationï¼Œåˆå§‹åŒ– vuexï¼›")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[n("span",{attrs:{class:"token comment"}},[s._v("// vuex \bstore/index.js")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vuex "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'vuex'")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" mutations "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'./mutations'")]),s._v("\n  \n  Vue"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token function"}},[s._v("use")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vuex"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n  "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" state "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    offset"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n  "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{attrs:{class:"token class-name"}},[s._v("Vuex"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Store")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    state"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    mutations\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")])])])]),n("p",[s._v("mutation-types.js è®°å½•æ‰€æœ‰çš„äº‹ä»¶åï¼Œå…¶å®è¿™ä¸ªæ–‡ä»¶æœ€å¤§çš„å¥½å¤„æ˜¯èƒ½è®©æˆ‘ä»¬æ›´ç›´è§‚åœ°ç®¡ç†æ‰€æœ‰çš„ vuex æ–¹æ³•ï¼Œå®ƒçš„ä¼˜ç‚¹ä¼šåœ¨é¡¹ç›®å¤æ‚åå‡¸æ˜¾å‡ºæ¥ï¼Œé¡¹ç›®å¤æ‚æ—¶æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨ vuex å­˜å‚¨å¾ˆå¤šæ•°æ®ã€å®šä¹‰å¾ˆå¤šæ–¹æ³•ï¼Œè¿™æ—¶ mutation-types.js å°±èƒ½æ›´å¥½æ›´ç›´è§‚åœ°ç®¡ç†è¿™äº›æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§è®¾è®¡ç†å¿µå˜›ï¼Œæœ‰åˆ©äºåæœŸç»´æŠ¤ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[n("span",{attrs:{class:"token comment"}},[s._v("// mutation-types.js")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{attrs:{class:"token constant"}},[s._v("PRE_PAGE")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'PRE_PAGE'")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{attrs:{class:"token constant"}},[s._v("NEXT_PAGE")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'NEXT_PAGE'")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{attrs:{class:"token constant"}},[s._v("GO_PAGE")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'GO_PAGE'")])])])]),n("p",[s._v("mutation.js è¿™æ˜¯ vuex çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæ³¨å†Œäº†å®ç°çš„æ‰€æœ‰äº‹ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰äº†ç‚¹å‡»ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µå’Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢çš„æ–¹æ³•ã€‚")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"js"}},[n("pre",{attrs:{class:"language-js"}},[n("code",{attrs:{class:"language-js"}},[n("span",{attrs:{class:"token comment"}},[s._v("// mutation.js")]),s._v("\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("as")]),s._v(" types "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'./mutation-types'")]),s._v("\n\n  "),n("span",{attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// åˆ†é¡µ ä¸Šä¸€é¡µ")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("types"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token constant"}},[s._v("PRE_PAGE")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("state"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      state"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("-=")]),s._v(" offset\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// åˆ†é¡µ ä¸‹ä¸€é¡µ")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("types"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token constant"}},[s._v("NEXT_PAGE")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("state"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      state"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("+=")]),s._v(" offset\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token comment"}},[s._v("// åˆ†é¡µ è·³è½¬åˆ°æŒ‡å®šé¡µç ")]),s._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("types"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token constant"}},[s._v("GO_PAGE")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("state"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" offset"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      state"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("offset "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" offset\n    "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")])])])]),n("h3",{attrs:{id:"how-to-run"}},[s._v("how to run")]),s._v(" "),n("div",{pre:!0,attrs:{class:"pre-wrapper","data-lang":"bash"}},[n("pre",{attrs:{class:"language-bash"}},[n("code",{attrs:{class:"language-bash"}},[s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" \n\n$ "),n("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n\n// è®¿é—® http://localhost:8088/index.html")])])]),n("p",[s._v("æœ€åæ‰“ä¸ªå°å¹¿å‘ŠğŸ£ à¹‘ä¹›â—¡ä¹›à¹‘")]),s._v(" "),n("p",[s._v("æˆ‘çš„ä¸ªäººç½‘ç«™ï¼š"),n("a",{attrs:{href:"https://minemine.cc/"}},[s._v("https://minemine.cc/")])]),s._v(" "),n("p",[s._v("github åœ°å€ï¼š"),n("a",{attrs:{href:"https://github.com/luyilin"}},[s._v("https://github.com/luyilin")])])])])};t._withStripped=!0;var p=n(1),o=function(s){const a="wrap-page-2017-04-19-vue-pagination",n={slug:"vue-pagination",permalink:"/2017/04/19/vue-pagination",attributes:{title:"ä½¿ç”¨ vue2.0 å®ç°ä¸€ä¸ªç®€æ´çš„åˆ†é¡µç»„ä»¶",date:"2017-04-19T00:00:00.000Z",tags:["code"],type:"post",layout:"post"},body:'<p>åˆ†é¡µæ•ˆæœé¢„è§ˆï¼š</p>\n<ul>\n<li><a href="https://luyilin.github.io/Minemine-pagination/dist/index.html">åœ¨çº¿ demo</a></li>\n<li><a href="https://github.com/luyilin/Minemine-pagination">github åœ°å€</a></li>\n<li>åˆ†é¡µæ•ˆæœæˆªå›¾</li>\n</ul>\n<p><img src="https://i.loli.net/2018/12/05/5c079d83943bc.png" alt="messagedboard"></p>\n<h3 id="">å‰è¨€</h3>\n<blockquote>\n<ol>\n<li>ä½¿ç”¨ vue-cli åˆå§‹åŒ–é¡¹ç›® \x3c!--more--\x3e</li>\n<li>ä½¿ç”¨ vuex ç®¡ç†æ•°æ®</li>\n<li>node v6.9.2ï¼Œnpm v3.10.9</li>\n</ol>\n</blockquote>\n<h3 id="-2">åˆ†é¡µåŸç†</h3>\n<p>å®ç°åˆ†é¡µä¸»è¦ä¾é ä¸¤ä¸ªå‚æ•°ï¼Œåç§»é‡ï¼ˆoffsetï¼‰ã€é™åˆ¶æ•°ï¼ˆlimitï¼‰ã€‚ç‚¹å‡»åˆ†é¡µå‘é€ Ajax è¯·æ±‚ï¼Œå°†è¿™ä¸¤ä¸ªå‚æ•°ä¼ ç»™åç«¯ï¼Œåç«¯ä»æ•°æ®åº“ç­›é€‰å‡ºå¯¹åº”çš„æ•°æ®è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å°†è·å–åˆ°çš„æ•°æ®æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåˆ†é¡µç»„ä»¶æ ¹æ®åç§»é‡å’Œé™åˆ¶æ•°æ˜¾ç¤ºå¯¹åº”çš„é¡µç ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•åœ°å®ç°åˆ†é¡µçš„æ€è·¯ã€‚</p>\n<h3 id="-3">åˆ†é¡µç±»å‹</h3>\n<p>åˆ†é¡µä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼Œä¸€ç§ç»å¸¸ç”¨äºç§»åŠ¨ç«¯çš„æ»šåŠ¨åŠ è½½ï¼Œæˆ–æ˜¯ä¸€ä¸ªæŒ‰é’®ç‚¹å‡»å³å¯åŠ è½½æ›´å¤šã€‚è¿™ç§åˆ†é¡µå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œå‰ç«¯ä»…éœ€å®šä¹‰ä¸€ä¸ª offset å˜é‡ï¼Œæ¯æ¬¡ ajax è¯·æ±‚æ—¶ offset += limitï¼Œç„¶åå°†è·å–åˆ°çš„å†…å®¹ append ä¸Šå»å³å¯ã€‚\nå¦ä¸€ç§æ˜¯æ˜¾ç¤ºæ€»é¡µæ•°ã€å½“å‰é¡µæ•°ã€ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µæŒ‰é’®ï¼Œä¸”é¡µæ•°è¾ƒå¤šæ—¶å°†ä¸­é—´é¡µæ•°ç”¨çœç•¥å·è¡¨ç¤ºã€‚è¿™ç§åˆ†é¡µå®ç°èµ·æ¥ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæœ¬æ–‡è®¨è®ºçš„å°±æ˜¯å¦‚ä½•ä½¿ç”¨ vue å®ç°è¿™æ ·çš„åˆ†é¡µç»„ä»¶ã€‚</p>\n<h3 id="-4">åˆ†é¡µç»„ä»¶</h3>\n<p>åˆ›å»º pagination.vue æ–‡ä»¶ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="vue"><pre class="language-vue"><code class="language-vue"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page-wrap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prePage<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>li-page<span class="token punctuation">"</span></span> <span class="token attr-name">v-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{methods: goPrePage}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸Šä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>i in showPageBtn<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{active: i === currentPage, pointer: i, hover: i &amp;&amp; i !== currentPage}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">v-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{methods: goPage, i: i}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>i<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>notPointer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{i}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>Â·Â·Â·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nextPage<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>li-page<span class="token punctuation">"</span></span> <span class="token attr-name">v-tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{methods: goNextPage}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ä¸‹ä¸€é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span></code></pre></div><p>ç»„ä»¶çš„ä½œç”¨åŸŸæ˜¯ç‹¬ç«‹çš„ï¼Œçˆ¶ç»„ä»¶é€šä¿¡é€šè¿‡ props å‘å…¶ä¼ é€’æ•°æ®ï¼Œåˆ†é¡µç»„ä»¶é€šè¿‡ $emit è§¦å‘åœ¨çˆ¶ç»„ä»¶å®šä¹‰çš„äº‹ä»¶å®ç°å’Œçˆ¶ç»„ä»¶çš„é€šä¿¡ï¼Œå› æ­¤é¢„è®¾ä»çˆ¶ç»„ä»¶è·å–åˆ°éœ€æ˜¾ç¤ºçš„æ€»æ•° num ä¸º 30 , limit ä¸º 5ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥éšæ„è®¾ç½®è¿™ä¸¤ä¸ªå€¼ï½</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> that\n  <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>\n      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        that <span class="token operator">=</span> <span class="token keyword">this</span>\n        <span class="token keyword">return</span><span class="token punctuation">{</span>\n          num<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>\n          limit<span class="token punctuation">:</span> <span class="token number">5</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span></code></pre></div><p>è®¡ç®—å‡ ä¸ªå˜é‡ï¼Œåœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨ vue çš„è®¡ç®—å±æ€§ computed\næ€»é¡µæ•° totalPage åº”è¯¥ç­‰äºéœ€æ˜¾ç¤ºçš„æ€»æ•°é™¤ä»¥æ¯é¡µæ˜¾ç¤ºçš„ä¸ªæ•°ï¼Œå¹¶å‘ä¸Šå–æ•´ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">totalPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>num <span class="token operator">/</span> that<span class="token punctuation">.</span>limit<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>åç§»é‡ offsetï¼Œå› ä¸ºç‚¹å‡»ä¸Šä¸‹é¡µã€åˆ¶å®šé¡µç å‡ä¼šæ”¹å˜ offset å˜é‡ï¼Œçˆ¶ç»„ä»¶ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªå˜é‡å‘é€ ajax è¯·æ±‚ï¼Œå› æ­¤ä½¿ç”¨ vuex å­˜å‚¨ offsetã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js"><span class="token comment">// pagination.vue</span>\n    computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">return</span> that<span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>offset\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>å½“å‰é¡µé¢ currentPageï¼Œå½“å‰é¡µé¢æ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå˜é‡ï¼Œæ˜¾ç¤ºç”¨æˆ·å½“å‰æ‰€å¤„é¡µæ•°ï¼Œå·²çŸ¥åç§»é‡å’Œæ¯é¡µæ˜¾ç¤ºæ•°é‡å¯ä»¥å¾—å‡ºå½“å‰é¡µé¢æ˜¯äºŒè€…çš„ä½™æ•°å‘ä¸Šå–æ•´ï¼Œå› ä¸ºé¡µæ•°ä¸ä»0å¼€å§‹ï¼Œå› æ­¤</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">currentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>offset <span class="token operator">/</span> that<span class="token punctuation">.</span>limit<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>æ˜¯å¦æ˜¾ç¤ºä¸Šä¸€é¡µæŒ‰é’® prePageï¼Œå› ä¸ºåœ¨é¦–é¡µçš„æ—¶å€™åç§»é‡ä¸º0ï¼Œå› æ­¤åªè¦åç§»é‡ä¸ç­‰äº0åˆ™å½“å‰é¡µé¢è‚¯å®šä¸åœ¨ç¬¬ä¸€é¡µï¼Œåˆ™æ˜¾ç¤ºä¸Šä¸€é¡µæŒ‰é’®ï¼Œå¹¶ä¸” num ä¸ç­‰äº 0ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">coumputed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">prePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> that<span class="token punctuation">.</span>offset <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> that<span class="token punctuation">.</span>num\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>æ˜¯å¦æ˜¾ç¤ºä¸‹ä¸€é¡µæŒ‰é’® nextPageï¼Œè¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œåªè¦åç§»é‡å’Œæ¯é¡µæ˜¾ç¤ºçš„ä¸ªæ•°ç›¸åŠ å°äºéœ€æ˜¾ç¤ºçš„æ€»æ•°ï¼Œåˆ™æ˜¾ç¤ºä¸‹ä¸€é¡µæŒ‰é’®ï¼Œå¹¶ä¸” num ä¸ç­‰äº 0ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">nextPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>offset <span class="token operator">+</span> that<span class="token punctuation">.</span>limit <span class="token operator">&lt;</span> that<span class="token punctuation">.</span>num<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> that<span class="token punctuation">.</span>num\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>é¡µç è®¡ç®— showPageBtnï¼Œé¡µç è®¡ç®—æ˜¯è¿™ä¸ªåˆ†é¡µç»„ä»¶çš„æ ¸å¿ƒå†…å®¹ï¼ŒåŸºæœ¬æ€è·¯æ˜¯å½“æ€»é¡µæ•°ä¸å¤§äº5æ—¶ï¼Œæ˜¾ç¤ºå…¨éƒ¨é¡µç ï¼›å½“æ€»é¡µæ•°å¤§äº5æ—¶ï¼Œå§‹ç»ˆæ˜¾ç¤ºé¦–å°¾é¡µç ï¼Œå½“å½“å‰é¡µç è·é¦–é¡µå°äº2æ—¶ï¼Œæ˜¾ç¤ºå‰ä¸‰é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·å°¾é¡µå°äº2æ—¶ï¼Œæ˜¾ç¤ºåä¸‰é¡µé¡µç ï¼Œå½“å½“å‰é¡µç è·é¦–é¡µç­‰äº2æ—¶ï¼Œæ˜¾ç¤ºå‰å››é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·å°¾é¡µç­‰äº2æ—¶ï¼Œæ˜¾ç¤ºåå››é¡µé¡µç å’Œçœç•¥å·ï¼›å½“å½“å‰é¡µç è·é¦–é¡µå¤§äº3ä¸”è·å°¾é¡µå¤§äº3æ—¶ï¼Œæ˜¾ç¤ºå½“å‰é¡µç å’Œå½“å‰é¡µç çš„å‰ä¸€é¡µå’Œåä¸€é¡µï¼Œä¸¤è¾¹å„æœ‰ä¸€ä¸ªçœç•¥å·ï¼›åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨0ä»£è¡¨çœç•¥å·</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">showPageBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token keyword">let</span> pageNum <span class="token operator">=</span> that<span class="token punctuation">.</span>totalPage<span class="token punctuation">,</span>\n              index <span class="token operator">=</span> that<span class="token punctuation">.</span>currentPage<span class="token punctuation">,</span>\n              arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>pageNum <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> pageNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> arr\n          <span class="token punctuation">}</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>pageNum<span class="token punctuation">]</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">>=</span> pageNum <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> pageNum <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> pageNum <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pageNum<span class="token punctuation">]</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>pageNum<span class="token punctuation">]</span>\n          <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> pageNum <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> pageNum<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> pageNum<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> pageNum<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pageNum<span class="token punctuation">]</span>\n          <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> index<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pageNum<span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><p>è·³è½¬äº‹ä»¶ï¼Œåˆ†åˆ«ç‚¹å‡»ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µå’ŒæŒ‡å®šé¡µç ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js">methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      <span class="token function">goPage</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>i <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> params<span class="token punctuation">.</span>i <span class="token operator">===</span> that<span class="token punctuation">.</span>currentPage<span class="token punctuation">)</span> <span class="token keyword">return</span>\n        that<span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">\'GO_PAGE\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> that<span class="token punctuation">.</span>limit<span class="token punctuation">)</span>\n        that<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">\'getNew\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token function">goPrePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        that<span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">\'PRE_PAGE\'</span><span class="token punctuation">,</span> that<span class="token punctuation">.</span>limit<span class="token punctuation">)</span>\n        that<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">\'getNew\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token function">goNextPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        that<span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">\'NEXT_PAGE\'</span><span class="token punctuation">,</span> that<span class="token punctuation">.</span>limit<span class="token punctuation">)</span>\n        that<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">\'getNew\'</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span></code></pre></div><h3 id="vuex">vuex éƒ¨åˆ†</h3>\n<p>åœ¨æ­¤ä»‹ç»ä¸€ä¸‹ vuex éƒ¨åˆ†çš„å®ç°ï¼Œå­¦ä¹ äº†äºŒå“²å¤§å¤§çš„ vuex éƒ¨åˆ†çš„ç»“æ„ã€‚åœ¨ src ç›®å½•ä¸‹ï¼ˆå’Œ components ç›®å½•å¹³çº§ï¼‰ï¼Œæ–°å»º store ç›®å½•ï¼Œå…¶ä¸­ index.js æ–‡ä»¶ä¼ å…¥ mutationï¼Œåˆå§‹åŒ– vuexï¼›</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js"><span class="token comment">// vuex \bstore/index.js</span>\n  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">\'vue\'</span>\n  <span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">\'vuex\'</span>\n  <span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">\'./mutations\'</span>\n  \n  Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \n  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>\n    offset<span class="token punctuation">:</span> <span class="token number">0</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  \n  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    state<span class="token punctuation">,</span>\n    mutations\n  <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><p>mutation-types.js è®°å½•æ‰€æœ‰çš„äº‹ä»¶åï¼Œå…¶å®è¿™ä¸ªæ–‡ä»¶æœ€å¤§çš„å¥½å¤„æ˜¯èƒ½è®©æˆ‘ä»¬æ›´ç›´è§‚åœ°ç®¡ç†æ‰€æœ‰çš„ vuex æ–¹æ³•ï¼Œå®ƒçš„ä¼˜ç‚¹ä¼šåœ¨é¡¹ç›®å¤æ‚åå‡¸æ˜¾å‡ºæ¥ï¼Œé¡¹ç›®å¤æ‚æ—¶æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨ vuex å­˜å‚¨å¾ˆå¤šæ•°æ®ã€å®šä¹‰å¾ˆå¤šæ–¹æ³•ï¼Œè¿™æ—¶ mutation-types.js å°±èƒ½æ›´å¥½æ›´ç›´è§‚åœ°ç®¡ç†è¿™äº›æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§è®¾è®¡ç†å¿µå˜›ï¼Œæœ‰åˆ©äºåæœŸç»´æŠ¤ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js"><span class="token comment">// mutation-types.js</span>\n    <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">PRE_PAGE</span> <span class="token operator">=</span> <span class="token string">\'PRE_PAGE\'</span>\n    <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">NEXT_PAGE</span> <span class="token operator">=</span> <span class="token string">\'NEXT_PAGE\'</span>\n    <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">GO_PAGE</span> <span class="token operator">=</span> <span class="token string">\'GO_PAGE\'</span></code></pre></div><p>mutation.js è¿™æ˜¯ vuex çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæ³¨å†Œäº†å®ç°çš„æ‰€æœ‰äº‹ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰äº†ç‚¹å‡»ä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µå’Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢çš„æ–¹æ³•ã€‚</p>\n<div class="pre-wrapper" v-pre="" data-lang="js"><pre class="language-js"><code class="language-js"><span class="token comment">// mutation.js</span>\n  <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">\'./mutation-types\'</span>\n\n  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    <span class="token comment">// åˆ†é¡µ ä¸Šä¸€é¡µ</span>\n    <span class="token punctuation">[</span>types<span class="token punctuation">.</span><span class="token constant">PRE_PAGE</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      state<span class="token punctuation">.</span>offset <span class="token operator">-=</span> offset\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// åˆ†é¡µ ä¸‹ä¸€é¡µ</span>\n    <span class="token punctuation">[</span>types<span class="token punctuation">.</span><span class="token constant">NEXT_PAGE</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      state<span class="token punctuation">.</span>offset <span class="token operator">+=</span> offset\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// åˆ†é¡µ è·³è½¬åˆ°æŒ‡å®šé¡µç </span>\n    <span class="token punctuation">[</span>types<span class="token punctuation">.</span><span class="token constant">GO_PAGE</span><span class="token punctuation">]</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      state<span class="token punctuation">.</span>offset <span class="token operator">=</span> offset\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div><h3 id="how-to-run">how to run</h3>\n<div class="pre-wrapper" v-pre="" data-lang="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> \n\n$ <span class="token function">npm</span> run dev\n\n// è®¿é—® http://localhost:8088/index.html</code></pre></div><p>æœ€åæ‰“ä¸ªå°å¹¿å‘ŠğŸ£ à¹‘ä¹›â—¡ä¹›à¹‘</p>\n<p>æˆ‘çš„ä¸ªäººç½‘ç«™ï¼š<a href="https://minemine.cc/">https://minemine.cc/</a></p>\n<p>github åœ°å€ï¼š<a href="https://github.com/luyilin">https://github.com/luyilin</a></p>\n',excerpt:"<p>åˆ†é¡µæ•ˆæœé¢„è§ˆï¼š</p>\n"};s.options.name=a,s.options.computed=Object.assign({},s.options.computed,{$page:()=>n})},e=Object(p.a)({},t,[],!1,null,null,null);"function"==typeof o&&o(e),e.options.__file=".peco/data/_posts/vue-pagination.md.peson";a.default=e.exports}}]);